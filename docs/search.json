[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Crime in NY",
    "section": "",
    "text": "1 Introduction\n\nWhile deciding on a topic for our project, we received several emails from the Columbia Department of Safety about an armed robbery near the Columbia campus. This prompted us to get interested in Crime data in and around NYC – in particular; it made us question the safety around Columbia and in NYC specifically. We found several exciting and detailed datasets about crime in NYC and quickly focused on NYC incident-level shootings data in the past ten years to see in how much “danger” we are:\n\n\n\n\n\n(This plot is just for \"motivational\" purposes. In the main body of the text we shall focus on a different dataset.)\nIndeed, it seems like there is a relative “hotspot” of shooting incidences near Columbia. The hotspot is mostly several blocks from campus, but it is insightful to us to know which areas to avoid.\nThis first broad analysis took us down a rabbit hole of crime and crime-related datasets. We eventually decided to focus on NY State data, as it provides a less localized, more widespread, and comprehensive view of crimes over the years. Furthermore, NY State seems more representative of drastically different styles of living, which – we believe – allows for a more contrasting picture. This topic is attractive due to its insights into crime trends over time and across different areas.\nOur primary dataset encompasses detailed crime statistics for each agency in New York State’s counties spanning from 1990 to 2022. This extensive temporal range of approximately three decades enables a thorough examination of the evolution of crime patterns within each New York county. Moreover, it facilitates a comparative analysis of crime statistics between New York City and the entire state.\nIn our exploration, we aim to address various questions related to crime dynamics, patterns, and potential influencing factors. For example, we will delve into the examination of how socioeconomic factors, law enforcement strategies, and demographic shifts may have impacted crime rates over the years. Additionally, we are interested in investigating the influence of the COVID-19 pandemic on crime statistics, both in terms of overall rates and the types of crimes reported.\nTo enhance the depth of our analysis, we have supplemented our primary dataset with additional data providing population numbers for each county in New York State for the time period covered in our crime dataset. This supplementary information is crucial as it allows us to calculate and compare crime rates adjusted for population size. By doing so, we aim to provide a more nuanced understanding of crime trends and ensure that our analysis considers variations in population density across different counties.\nUltimately, our research endeavors not only contribute to a comprehensive analysis of public safety trends but also serve as a valuable resource for policymakers and the public. The insights derived from this study can aid in developing informed strategies to understand and address various crime-related issues within the state of New York."
  },
  {
    "objectID": "data.html#technical-description",
    "href": "data.html#technical-description",
    "title": "2  Data",
    "section": "2.1 Technical Description",
    "text": "2.1 Technical Description\nThe dataset on Index Crimes by County and Agency in New York, is collected by the New York State Division of Criminal Justice Services, which obtains crime reports from more than 500 New York State police and sheriff’s departments. The data is formatted in a tabular structure, with columns specifying details like county, agency, year, region, and various crime categories. So, the dataset includes geographic information (county and agency), temporal information (year), and crime categories and contains roughly 22 thousand rows and 15 columns.\nThe reporting system gathers data on seven “index offenses”, commonly used to assess the overall volume of crime. These encompass violent crimes such as murder/non-negligent manslaughter, forcible rape, robbery, and aggravated assault, as well as property crimes like burglary, larceny, and motor vehicle theft.\nThe data has been collected since January 1990. The frequency of updates is on an annual basis, but the individual law enforcement agencies report their total crimes to the New York State Division of Criminal Justice Services monthly. Issues with the data include inconsistencies in reporting methods among different agencies, variations in the definition of crimes, or potential underreporting. We should be cautious about these nuances when interpreting trends or comparing regions and periods. Indeed, police agencies might need help with reporting, which could hinder accurate or comprehensive data submission. The figures reflect solely the crimes reported to the police and do not encompass the total number of crimes.\nWe carefully check that the data is consistent, i.e., that the various accumulations performed within the dataset are correct. We find some inconsistencies in the County Total accumulation in Albany from 1990-1997 and Nassau County in 1990. We discuss this further in the analysis of the missing values.\nSince comparing crime numbers among the different counties only really makes sense if we normalize by population, we supplement our primary dataset, Index Crimes by County and Agency in New York, with an official population dataset of the counties in NY state. The New York State Department of Labor curated the population dataset. It has been updated yearly since 2014 and contains the (estimated) population of each County in NY state by year since 1970.\nThe dataset contains the FIPS (“Federal Information Processing Standards”) code of each NY state county, together with the name of the county (“Geography”), the year, and its population estimate. Finally, it includes a column, “Program Type,” detailing how the population number was estimated. The estimations are interpolations or extrapolations of the 10-year census data of NY State. Before 2010, the estimations were based on interpolations since for each year, in between the actual census data, both previous and following census numbers were known. However, after 2010, the data was kept as “point-in-time,” and therefore, the estimations were based solely on extrapolating the previous census numbers. It is essential to keep the data point-in-time, as changing the numbers in hindsight would lead to issues with models that use extrapolated data numbers.\nThe more detailed methodology of the “intercensal estimation” is detailed here and here. Essentially, for intercensal estimates, they combine the data from the two censuses with death, birth, migration, and immigration data to provide an estimate. In contrast, for postcensal forecasts, they use the previous census data and the same external sources to provide an estimate.\nWe shall briefly investigate the efficacies of these estimates and notice that the extrapolation is comparatively worse than the intercensal estimated data, but that for our purposes the estimation errors are negligible."
  },
  {
    "objectID": "data.html#research-plan",
    "href": "data.html#research-plan",
    "title": "2  Data",
    "section": "2.2 Research plan",
    "text": "2.2 Research plan\nTo answer research questions related to crime trends and influencing factors, our primary dataset offers a rich source of information.\n\n2.2.1 Temporal aspects\nGiven the extensive span of thorough reporting within our primary dataset, we can conduct longitudinal studies, examine crime rates over multiple years, and identify particular trends and patterns. We can do this for all of NY State or county specific and compare trends between counties. For instance, it would be exciting to see whether vastly contrasting trends exist among the different counties.\nAnalyzing the data throughout the years enables assessing whether crime has increased, decreased, or remained stable. This could provide insights into the effectiveness of law enforcement strategies, changes in societal conditions, or potential impacts of specific events such as the COVID-19 pandemic. This could give a more nuanced understanding of the factors influencing crime dynamics.\n\n\n2.2.2 Geographic aspects\nA geographic analysis is also possible since our primary dataset contains location-specific information. Indeed, the dataset includes information on crimes reported by different counties and agencies. This allows us to compare crime rates across regions, potentially revealing interesting spatial patterns or clusters. For instance, we can compare the evolution of crime between NYC and NY state. Understanding variations in crime rates helps tailor interventions to specific areas.\nGiven the spatial information within the dataset, further supplementing it with demographic information would be interesting. This might involve exploring correlations between crime rates, socioeconomic factors, population density, or demographic shifts over time. Furthermore, if there are contrasting law enforcement strategies among different counties (or even agencies), we could potentially assess the impact of those strategies by analyzing changes in crime rates following the implementation of specific policies or practices. This might allow us to identify variations in reporting practices, law enforcement effectiveness, or community characteristics that may influence crime rates.\n\n\n2.2.3 Crime specific aspects\nFinally, the dataset is categorized into specific crime types. This allows us to analyze trends in each category, helping identify areas of concern and inform targeted interventions for potential hotspots in particular crimes.\nIt is crucial to acknowledge potential limitations such as data inconsistencies, reporting biases, and missing information, which may affect the robustness of conclusions drawn from the analysis."
  },
  {
    "objectID": "data.html#missing-value-analysis-and-other-inconsistencies",
    "href": "data.html#missing-value-analysis-and-other-inconsistencies",
    "title": "2  Data",
    "section": "2.3 Missing value analysis and other inconsistencies",
    "text": "2.3 Missing value analysis and other inconsistencies\nWe shall now investigate our two datasets for missing values and inconsistencies and discuss if our findings will impact our research and results.\n\n2.3.1 NY State crime dataset\nWe start by investigating the NY State crime dataset.\nThe data is well-sourced and only contains NA values for the “Months Reported” column. In particular, upon further investigation, it turns out that a lot of the NA values appear in the accumulated “County Total” rows because as soon as an Agency does not indicate the number of months they reported, this will lead to an NA value in the accumulation.\nBelow, we have summarized the percentage of NA values in the Months Collected column per county.\n\n\nCode\nna_cols &lt;- colSums(is.na(crime_ny))\nna_rows &lt;- crime_ny[is.na(crime_ny[, names(na_cols[na_cols&gt;0])]), ]\n\nna_rows_cnt &lt;- na_rows %&gt;% group_by(County) %&gt;% summarise(Count = n())\ncrime_ny_cnt &lt;- crime_ny %&gt;% group_by(County) %&gt;% summarise(Count = n())\nna_rows_cnt$pct &lt;- na_rows_cnt$Count/crime_ny_cnt$Count\n\nna_rows_cnt &lt;- na_rows_cnt[order(na_rows_cnt$pct, decreasing = TRUE), ]\n\nggplot(na_rows_cnt, \n       aes(x = reorder(County, -pct), \n           y = pct * 100)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Percentage of Missing \\\"Months Collected\\\" Values by County\",\n       x = \"County\", y = \"Missing Percentage\") +\n  scale_y_continuous(labels = scales::percent_format(scale = 1)) +\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1))\n\n\n\n\n\nWe notice that the five counties with the most missing value percentages in the “Months Collected” column are the ones where we do not have Agency-level data, but only “County Total” data. We believe these numbers were aggregated from different datasets, which may have varying degrees of accuracy concerning their monthly collected information.\nWhile we are not specifically interested in the “months collected” column, we need to remember that if data was consistentlycollected for strictly less than 12 months per year, there might be a skew in the data. To get an estimate of how often we are dealing with data from less than 12 months (for the NA cases), we look at the respective fraction within the non-NA values.\n\n\nCode\nless_12 &lt;- crime_ny[(crime_ny$Months.Reported &lt; 12) & !is.na(crime_ny$Months.Reported), ]\nless_12_cnt &lt;- less_12 %&gt;% \n  group_by(County) %&gt;% \n  summarise(Count = n())\n\nno_na_crime_ny_cnt &lt;- crime_ny[!is.na(crime_ny$Months.Reported), ] %&gt;% \n  group_by(County) %&gt;% \n  summarise(Count = n())\nmerged_data &lt;- merge(less_12_cnt, no_na_crime_ny_cnt, by = \"County\", all.x = TRUE)\nmerged_data$pct &lt;- merged_data$Count.x/merged_data$Count.y\n\nmerged_data &lt;- merged_data[order(merged_data$pct, decreasing = TRUE), ]\n\nggplot(merged_data, \n       aes(x = reorder(County, -pct), \n           y = 100*pct)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Percentage of &lt;12 vs 12 \\\"Months Collected\\\" by County\",\n       x = \"County\", \n       y = \"Percentage of &lt;12 vs 12 Months Collected\") +\n  scale_y_continuous(labels = scales::percent_format(scale = 1)) +\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1))\n\n\n\n\n\nWe observe that the data collected with less than 12 months compared against the data collected with precisely 12 months is relatively negligible. Based on this, we believe the missing NA values are primarily due to data collection negligence rather than drastic variations of the number of months data was reported/collected.\nApart from the missing values, we wanted to make sure that the data aggregation was performed consistently within the dataset. We first check that the columns sum to their respective total columns for each row and find that there is no inconsistency there:\n\n\nCode\n# Check that other entries sum to Index.Total:\n\n# First check Property Total + Violent Total == Index Total\ncheck_result &lt;- crime_ny %&gt;%\n  group_by(Year, County, Agency) %&gt;%\n  summarise(Sum_Other_Entries = Property.Total + Violent.Total, .groups = \"drop\") %&gt;%\n  left_join(crime_ny, by = c(\"Year\", \"County\", \"Agency\")) %&gt;%\n  mutate(Check = ifelse(Sum_Other_Entries == Index.Total, \"Pass\", \"Fail\"))\ncat(nrow(check_result[check_result$Check!='Pass',]), ' rows with mismatch of Property Total + Violent Total == Index Total.\\n')\n\n\n0  rows with mismatch of Property Total + Violent Total == Index Total.\n\n\nCode\n# First check Murder + Rape + Robbery + Aggravated Assault == Violent Total\ncheck_result &lt;- crime_ny %&gt;%\n  group_by(Year, County, Agency) %&gt;%\n  summarise(Sum_Other_Entries = Murder + Rape + Robbery + Aggravated.Assault, .groups = \"drop\") %&gt;%\n  left_join(crime_ny, by = c(\"Year\", \"County\", \"Agency\")) %&gt;%\n  mutate(Check = ifelse(Sum_Other_Entries == Violent.Total, \"Pass\", \"Fail\"))\ncat(nrow(check_result[check_result$Check!='Pass',]), ' rows with mismatch of Murder + Rape + Robbery + Aggravated Assault == Violent Total. \\n')\n\n\n0  rows with mismatch of Murder + Rape + Robbery + Aggravated Assault == Violent Total. \n\n\nCode\n# First check Burglary + Larceny + Motor.Vehicle.Theft == Property Total\ncheck_result &lt;- crime_ny %&gt;%\n  group_by(Year, County, Agency) %&gt;%\n  summarise(Sum_Other_Entries = Burglary + Larceny + Motor.Vehicle.Theft, .groups = \"drop\") %&gt;%\n  left_join(crime_ny, by = c(\"Year\", \"County\", \"Agency\")) %&gt;%\n  mutate(Check = ifelse(Sum_Other_Entries == Property.Total, \"Pass\", \"Fail\"))\ncat(nrow(check_result[check_result$Check!='Pass',]), ' rows with mismatch of Burglary + Larceny + Motor.Vehicle.Theft == Property Total \\n')\n\n\n0  rows with mismatch of Burglary + Larceny + Motor.Vehicle.Theft == Property Total \n\n\nFinally, we would also like to check whether there is a mismatch between the County Total accumulation and the individual (by-agency) values. For the cases in which we have by-agency data, there is a minor mismatch between the summed data and the County total data in Nassau in 1990 and Albany between 1990 and 1997. It may be due to data from a missing agency, but we could not verify this explicitly.\n\n\nCode\n# Find mismatch in County Total vs per-police station:\ncounty_total_entries &lt;- crime_ny %&gt;%\n  filter(Agency == \"County Total\")\n\ncolumns_to_sum &lt;- c(\n  \"Index.Total\", \"Violent.Total\", \"Murder\", \"Rape\",\n  \"Robbery\", \"Aggravated.Assault\", \"Property.Total\",\n  \"Burglary\", \"Larceny\", \"Motor.Vehicle.Theft\"\n)\n\ncrime_ny_not_ct &lt;- crime_ny[crime_ny$Agency!='County Total',] \n\nsummed_data &lt;- crime_ny_not_ct %&gt;%\n  group_by(Year, County) %&gt;%\n  summarise(across(all_of(columns_to_sum), sum), .groups = \"drop\")\n\ncomparison_result &lt;- left_join(summed_data, \n                               county_total_entries, \n                               by = c(\"Year\", \"County\"))\n\ncomparison_result &lt;- comparison_result %&gt;%\n  mutate(\n    Check_Index.Total = ifelse(Index.Total.x == Index.Total.y, \"Match\", \"Mismatch\"),\n    Check_Violent.Total = ifelse(Violent.Total.x == Violent.Total.y, \"Match\", \"Mismatch\"),\n    Check_Murder = ifelse(Murder.x == Murder.y, \"Match\", \"Mismatch\"),\n    Check_Rape = ifelse(Rape.x == Rape.y, \"Match\", \"Mismatch\"),\n    Check_Robbery = ifelse(Robbery.x == Robbery.y, \"Match\", \"Mismatch\"),\n    Check_Aggravated.Assault = ifelse(Aggravated.Assault.x == Aggravated.Assault.y, \"Match\", \"Mismatch\"),\n    Check_Property.Total = ifelse(Property.Total.x == Property.Total.y, \"Match\", \"Mismatch\"),\n    Check_Burglary = ifelse(Burglary.x == Burglary.y, \"Match\", \"Mismatch\"),\n    Check_Larceny = ifelse(Larceny.x == Larceny.y, \"Match\", \"Mismatch\"),\n    Check_Motor.Vehicle.Theft = ifelse(Motor.Vehicle.Theft.x == Motor.Vehicle.Theft.y, \"Match\", \"Mismatch\")\n  )\n\ncheck_columns &lt;- paste0(\"Check_\", columns_to_sum)\nmismatch_rows &lt;- comparison_result %&gt;%\n  rowwise() %&gt;%\n  filter(any(c_across(all_of(check_columns)) == \"Mismatch\"))\n\nmismatch_rows_long &lt;- tidyr::gather(mismatch_rows, key = \"Variable\", value = \"Check_Value\", all_of(check_columns))\nmismatch_rows_long &lt;- mismatch_rows_long[mismatch_rows_long$Check_Value =='Mismatch',] \n\nvariables &lt;- unique(mismatch_rows_long$Variable)\nfor (variable in variables) {\n  variable_name &lt;- gsub(\"^Check_\", \"\", variable)\n  xx &lt;- mismatch_rows_long[mismatch_rows_long$Variable == variable, ]\n  mismatch_rows_long[mismatch_rows_long$Variable == variable,'diff'] &lt;-\n    xx[, paste0(variable_name, \".y\")] - xx[, paste0(variable_name, \".x\")]\n}\n\nmismatch_rows_long_indextot &lt;- mismatch_rows_long[mismatch_rows_long$Variable == 'Check_Index.Total',]\n\nmismatch_rows_long_indextot_long &lt;- tidyr::pivot_longer(mismatch_rows_long_indextot, \n                                                       cols = c(\"Index.Total.x\", \"Index.Total.y\"), \n                                                       names_to = \"Category\", \n                                                       values_to = \"Value\")\n\nmismatch_rows_long_indextot$Year &lt;- factor(mismatch_rows_long_indextot$Year)\n\n\nmismatch_rows_long_indextot_pl &lt;- pivot_longer(data = mismatch_rows_long_indextot,\n             cols = c(Index.Total.x,Index.Total.y))\n\nmismatch_rows_long_indextot_pl &lt;- mismatch_rows_long_indextot_pl %&gt;%\n  mutate(name = ifelse(name == \"Index.Total.x\", \"Summed Up\", name),\n         name = ifelse(name == \"Index.Total.y\", \"County Total\", name))\nmismatch_rows_long_indextot_pl &lt;- rename(mismatch_rows_long_indextot_pl, Type = name)\n\nggplot(mismatch_rows_long_indextot_pl, \n       aes(x = interaction(Year, County), \n               y = value, \n               fill = Type)) +\n  geom_bar(position = \"dodge\", \n           stat = \"identity\", \n           width = 0.7) +\n  labs(title = \"Difference between \\\"County Total\\\" values and summed up values\", \n       x = \"Year + County\", \n       y = \"Total Number of Crimes\") +\n  scale_fill_manual(values = c(\"County Total\" = \"blue\", \n                               \"Summed Up\" = \"lightblue\")) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nIn the plot above we compare the discrepancy in the total crime number for each inconsistency. We observe that the inconsistency is very minor and will not affect our analysis below.\n\n\n2.3.2 NY State population dataset\nWe now focus on the population dataset.\nWe first plot the percentage of the available (i.e., non-NA, non-empty, non-missing) data:\n\n\nCode\npop_ny &lt;- read.csv('data/Annual_Population_Estimates_for_New_York_State_and_Counties__Beginning_1970.csv')\npop_ny$FIPS.Code &lt;- substr(pop_ny$FIPS.Code, 3, nchar(pop_ny$FIPS.Code))\n\nmissing_percentage &lt;- sapply(pop_ny, \n                             function(x) sum(is.na(x) | x == \"\") / length(x) * 100)\nresult &lt;- data.frame(Column = names(missing_percentage), \n                     MissingPercentage = missing_percentage)\nresult &lt;- result[order(-result$MissingPercentage), ]\n\nggplot(result, \n       aes(x = Column, \n           y = 100 - MissingPercentage)) +\n  geom_bar(stat = \"identity\", \n           fill = \"lightblue\") +\n  geom_text(aes(label = sprintf(\"%.1f%%\", 100 - MissingPercentage)),\n            vjust = 1.5, size = 5) +\n  labs(title = \"Percentage of Available Data in Each Column\",\n       x = \"Column\",\n       y = \"Available Percentage\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nCode\n#library(redav)\n#\n#plot_missing(result, percent = T)\n\n\nIt turns out that we are dealing with a well-cured dataset without any missing values.\nAs mentioned above, the population datasets contain population estimates for the years within/outside of census data. We want to visualize how well these estimations perform and whether there are significant discrepancies with the “actual” population numbers. Here, we take the census numbers as the ground truth, which is certainly sufficient for our purposes but may not be wise for more detailed studies.\nTo do so, we focus on the population numbers for the whole state as a representative. Furthermore, we restrict to data after 1990, as that is the period of interest for us:\n\n\nCode\npop_ny_full_state &lt;- pop_ny[(pop_ny$Geography == 'New York State') & (pop_ny$Year &gt;= 1990), ]\npop_ny_full_state &lt;- rename(pop_ny_full_state, Type = Program.Type)\n\nggplot(pop_ny_full_state, \n                        aes(x = Year, \n                            y = Population/1000000, \n                            fill = Type)) +\n  geom_col(position = \"dodge\", \n           width = 0.9) + \n  labs(title = \"Population (estimate) per Year\", \n       x = \"Year\", \n       y = \"Population (in Millions)\") +\n  scale_fill_manual(values = c(\"Census Base Population\" = \"blue\", \n                              \"Postcensal Population Estimate\" = \"red\",\n                              'Intercensal Population Estimate' = 'orange')) +\n  theme_minimal() +\n  theme(legend.position = \"bottom\")\n\n\n\n\n\nNotice that we have estimates even for the census years (1990, 2000, 2010, and 2020); Their respective bars are split into two (and of different colors). The intercensal population estimates are in line with the census data (which makes sense), while there is a small jump between the 2019 estimate and the 2020 census data. As we remarked above, this dataset was created in 2014 and kept as point-in-time. Therefore, the forecast will be postcensal for anything after 2010.\nThe estimates will undoubtedly be good enough for our purposes. We are interested in the ratio crime/population size, and therefore will divide a relatively small number by a large number. Hence, minor errors in the population estimates will not affect any conclusions we draw in the following.\n\n\nCode\n# \n# ggplot(mismatch_rows_long_indextot, \n#        aes(x = interaction(Year, County)), \n#            order = (Year)) +\n#   geom_bar(aes(y = Index.Total.y, \n#                fill = \"County Total values\"), \n#            stat = \"identity\", \n#            position = \"dodge\",\n#            alpha=0.5) +\n#   geom_bar(aes(y = Index.Total.x, \n#                fill = \"Sum of Reported Values by Agencies\"), \n#            stat = \"identity\", \n#            position = \"dodge\",\n#             alpha=0.5) +\n#   labs(title = \"Difference between \\\"County Total\\\" values and summed up values\", \n#        x = \"Year + County\", \n#        y = \"Total Number of Crimes\") +\n#   scale_fill_manual(values = c(\"County Total values\" = \"red\", \n#                                \"Sum of Reported Values by Agencies\" = \"blue\")) +\n#   theme_minimal() +\n#   theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n#\n# \n# census_years &lt;- unique(pop_ny_full_state[pop_ny_full_state$Program.Type == 'Census Base Population', ]$Year)\n# \n# pop_ny_full_state_cens_yrs &lt;- subset(pop_ny_full_state, pop_ny_full_state$Year %in% census_years)\n# \n# pop_ny_full_state_cens_yrs_wide &lt;- pivot_wider(pop_ny_full_state_cens_yrs, \n#                        names_from = Program.Type, \n#                        values_from = Population)\n# colnames(pop_ny_full_state_cens_yrs_wide)\n# \n# names(pop_ny_full_state_cens_yrs_wide)\n# \n# ggplot(pop_ny_full_state_cens_yrs_wide, aes(x = Year)) +\n#   geom_point(aes(y = `Census Base Population`, color = \"Census Base Population\"), \n#              position = position_dodge(width = 0.4)) +\n#   geom_point(aes(y = `Intercensal Population Estimate`, color = \"Intercensal Estimate\"), \n#              position = position_dodge(width = 0.2)) +\n#   geom_point(aes(y = `Postcensal Population Estimate`, color = \"Postcensal Estimate\"), \n#              position = position_dodge(width = -0.2)) +\n#   labs(title = \"A\", x = \"B\", y = \"C\") +\n#   scale_color_manual(values = c(\"Census Base Population\" = \"blue\", \n#                                 \"Intercensal Estimate\" = \"orange\",\n#                                 \"Postcensal Estimate\" = \"red\"),\n#                      name = \"Legend Title\") +\n#   theme_minimal() +\n#   theme(axis.text.x = element_text(angle = 45, hjust = 1))"
  },
  {
    "objectID": "results.html#overall",
    "href": "results.html#overall",
    "title": "3  Results",
    "section": "3.1 Overall Crime Trends in NY State",
    "text": "3.1 Overall Crime Trends in NY State\nWe start by investigating the overall crime trends NY State since 1990. We draw two plots, the first depicting the absolute crime numbers, while the second adjusts these numbers relative to population size. For this adjustment, we use crimes per 1,000 population, which, in our view, provides more meaningful insights, especially for counties with smaller populations. Oftentimes, crime rates are reported as crime per 100,000. To provide a baseline to our numbers, we refer to the FBI Numbers, which recorded a US national average of total crime (both violent and property crimes) at approximately 23 per 1,000.\n\n\nCode\noptions(scipen=999)\ncrime_ny_with_fips_and_pop$crime_pct &lt;- crime_ny_with_fips_and_pop$Index.Total/crime_ny_with_fips_and_pop$Population\n\ntot_yearly &lt;- crime_ny_with_fips_and_pop %&gt;%\n  group_by(Year) |&gt;\n  summarise(Total_crime = sum(Index.Total)) |&gt;\n  ungroup()\ntot_yearly &lt;- merge(tot_yearly, pop_ny[pop_ny$Geography == 'New York State', ], by.x = \"Year\", by.y = \"Year\", all.x = TRUE)\ntot_yearly$pct &lt;- 1000*tot_yearly$Total_crime/tot_yearly$Population\n\ntot_yearly1 &lt;- tot_yearly |&gt; pivot_longer(cols = c('Total_crime', 'pct'),\n                           names_to = 'total_or_pct',\n                           values_to = 'total_pct_vals')\n\ntot_yearly1$total_or_pct &lt;- factor(tot_yearly1$total_or_pct, levels = c(\"Total_crime\", \"pct\"))\n\nggplot(tot_yearly1, aes(x = Year, y = total_pct_vals)) +\n  geom_col() +\n  scale_fill_viridis_c() +\n  theme_minimal() +\n  labs(title = \"Crimes in NY State by Year\",\n       x = \"Year\",\n       y = \"Count\") +\n  facet_wrap(~total_or_pct, \n             scales = \"free_y\", \n             ncol = 1,\n             labeller = as_labeller(c(pct = \"Crimes (per 1,000)\", Total_crime = \"Total number of crimes\") ) ) +\n  ylab(NULL)\n\n\n\n\n\nWe observe a pronounced decline in total crime figures in NY State, which is particularly notable between 1990 and 2000. This decline is evident also when adjusted for population; the crime rate per 1,000 residents in New York State shows a marked decrease. This drop is even more significant, since while the total number of crimes decreased, the population increased at the same time.\nThe decrease in crime tapers off towards 2010 and then gets another slight boost after 2012. Finally, there is a significant increase in the total crime numbers, as well as the population-adjusted figures after 2021. This surge stands out as a significant deviation from the generally decreasing trend observed over the past 30 years. Consequently, we strongly believe that it can be attributed to the socioeconomic consequences of the COVID-19 pandemic.\nIn the following we shall investigate this particular uptick in more details."
  },
  {
    "objectID": "results.html#covid",
    "href": "results.html#covid",
    "title": "3  Results",
    "section": "3.2 Impact of COVID-19 on Crime Trends in New York State",
    "text": "3.2 Impact of COVID-19 on Crime Trends in New York State\nWe have identified a substantial surge in crime post-2021, a trend that we conjecture to be linked to the effects of the COVID-19 pandemic. This is certainly worth investigating some more, and we shall address the following key questions:\n\nWhich counties in NY State have experienced the biggest rise in crime rates following the COVID-19 outbreak, and is there a discernible geographical pattern or clustering associated with it?\nWhat specific categories of crime have shown an increase during this period?\n\n\n3.2.1 Analysis of COVID-19’s influence on Crime Rates Across NY State Counties\nWe first investigate the rise in crimes across the NY State counties. Since there are 62 counties in the state, we first focus on the top 10 counties that have experienced the most significant percentage increase in crime since 2020. We calculate the change in crime rates per population from 2020 to 2022. We then select and analyze the counties that exhibit the highest increase in this metric. This approach will help us understand which areas have been most affected by the pandemic in terms of rising crime rates.\n\n\n\n\n\nThis graph shows that the NY City area (NY, Bronx, Kings, Queens and Richmond) showed the most pronounced increase in crime rates post-2020. This suggests that the socioeconomic challenges due to the pandemic were felt more strongly in the more densly populated areas of the state. This could be due to increases in poverty levels, changes in policing or other pandemic-related factors. Among the NYC counties, Richmond’s (Staten Island) rise is somewhat less steep, which could potentially be attributed to its more suburban characteristics.\nApart from the NYC area, counties such as Albany and Schenectady also show significant upticks, which suggests a more widespread effect of the pandemic beyond just rural areas. Similarly, Cortland, Cattaraugus, and Nassau counties show a less dramatic rise, yet the increase is still evident.\nWe should be slightly careful with the crime rates here, since these numbers are calculated based on the estimated population figures for each county. The effects of the COVID-19 pandemic certainly affected these estimates. Particularly the numbers for New York City could be skewed, as the population notably declined during the pandemic; see for instance this NY Times article, which estimates that even by 2022, the population has not rebounded to pre-pandemic levels. This would actually suggest that the crime rate per 1,000 residents may be higher than calculated in the above graph, implying an even more significant uptick when adjusted for the reduced population.\nIn other counties, this is less clear. For example, the migration of NYC workers may have actually increased the population in neighboring counties, and therefore these crime rates could in fact be an overestimate.\nIt is interesting to contrast the counties with the largest increase from 2020 to 2022 to the ones with the smalles increase (or even decrease).\n\n\nCode\n# top 5 and bottom 5:\ncrime_top_bot_5 &lt;- impact_of_covid |&gt;\n  filter((County %in% bottom_counties_5$County) | County %in% top_counties_5$County)\ncrime_top_bot_5$County &lt;- factor(crime_top_bot_5$County, levels = sorted_counties_2022)\n\nggplot(crime_top_bot_5, \n       aes(x = Year, \n           y = 1000*crime_pct, \n           color = County)) +\n  geom_line(size = 0.9) +\n  geom_point() + \n  scale_color_manual(values = combined_palette) +\n  labs(title = \"Crime (per 1000 population) for Counties with least/most increase after 2020\",\n       x = \"Year\",\n       y = \"Crime (per 1000 people)\") +\n  theme_minimal()\n\n\n\n\n\nFrom this plot, we observe that the smaller counties, such as Fulton, Schoharie, and Hamilton, were unaffected by any increase in crime rates after 2020. Still, their crime rates relatively judiciously continued the trend from pre-COVID. Hamilton is the smallest county in NY State by population (around 5,000 residents), while Schoharie and Fulton are slightly larger at about 30,000 and 50,000, respectively. Additionally, these counties are far from significant population concentrations and seem more rural. This could suggest that the pandemic’s impact on crime was less severe in these areas or that other factors helped to mitigate a rise in crime rates. As mentioned in the introduction, the power of this NY State dataset is that it represents very different demographics and living styles, allowing for better contrasts and potentially more exciting questions about causation.\nOverall, the graph suggests that the pandemic’s impact on crime has been uneven across NY State, with more densly populated counties experiencing a more notable increase in crime rates per 1,000 people compared to less populated ones. It is important to note that population changes, such as the exodus from urban centers like New York City during the pandemic, could further affect these rates. To support this assertion, we draw a scatter plot of population against crime rates to see if we can see a positive correlation.\n\n\nCode\ncrime_inc &lt;- impact_of_covid %&gt;%\n  filter(Year &gt;= 2020) %&gt;%\n  group_by(County) %&gt;%\n  summarize(increase = (last(crime_pct) - first(crime_pct)), .groups = 'drop')\n\ncovid_2020 &lt;- impact_of_covid %&gt;%\n  filter(Year == 2020)\n\n# merge by county\ncombined_data &lt;- left_join(covid_2020, \n                           crime_inc, by = \"County\")\n\np &lt;- ggplot(combined_data, aes(x = Population, #Population^(1/2), \n                               y = 1000*increase, \n                               text = County)) +\n  geom_point() +\n  labs(title = \"Change in crime rates from 2020 to 2022 vs population\",\n       x = \"Population (in Millions)\",\n       y = \"Crime rate (per 1,000) change\") +\n  theme_minimal()\n\np_interactive &lt;- ggplotly(p)\np_interactive %&gt;%\n  layout(\n    xaxis = list(\n    tickmode = \"auto\",\n    nticks = 20),\n    yaxis = list(\n    tickmode = \"auto\",\n    nticks = 20)\n  )\n\n\n\n\n\n\nWe indeed observe a relatively clear positive correlation between county population size against the change in crime rates between 2020 and 2022. As a matter of fact, a bit more massaging of the data shows that a very good interpolating function would be something like the square root of the population.\nFinally, let us get a more comprehensive geographic look over the whole state by comparing the percentage increase/decrease of crimes per population since 2020. Recall, in the above graphs, we were interested in the absolute change of the crime rates between 2020 and 2022. Now, we look at the percentage change of crime rates adjusted for population from 2020 to 2022, i.e. as before, we calculate the difference between the crime per population size for 2022 and and 2020, but now we divide by the 2020 value to get a percentage.\n\n\nCode\nimpact_of_covid &lt;- crime_ny_with_fips_and_pop\nimpact_of_covid$crime_pct &lt;- impact_of_covid$Index.Total/impact_of_covid$Population\n\ncrime_pct_increase &lt;- impact_of_covid[impact_of_covid$Year &gt;= 2020, ] %&gt;%\n  group_by(County) %&gt;%\n  summarize(increase = 100*(last(crime_pct) - first(crime_pct))/first(crime_pct)) %&gt;%\n  filter(!is.na(increase))\n\nny_state_boundaries &lt;- st_read(\"data/tl_2016_36_cousub/tl_2016_36_cousub.shp\")\n\n\nReading layer `tl_2016_36_cousub' from data source \n  `/Users/martinfluder/Crime_NY/data/tl_2016_36_cousub/tl_2016_36_cousub.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 1023 features and 18 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -79.76259 ymin: 40.4774 xmax: -71.77749 ymax: 45.01586\nGeodetic CRS:  NAD83\n\n\nCode\nny_state_boundaries &lt;- st_transform(ny_state_boundaries, crs = 4326)\nny_state_boundaries$COUNTYFP &lt;- as.character(ny_state_boundaries$COUNTYFP)\n\nimpact_of_covid_region &lt;- impact_of_covid %&gt;% select(FIPS, County)\nimpact_of_covid_region &lt;- impact_of_covid_region[!duplicated(impact_of_covid_region), ]\nimpact_of_covid_region &lt;- merge(impact_of_covid_region, crime_pct_increase, by.x = \"County\", by.y = \"County\")\nimpact_of_covid_region$FIPS &lt;- as.character(impact_of_covid_region$FIPS)\n\ncrime_ny_covid_merged &lt;- merge(ny_state_boundaries, impact_of_covid_region, by.x = \"COUNTYFP\", by.y = \"FIPS\")\ncrime_ny_covid_sf &lt;- st_as_sf(crime_ny_covid_merged, coords = c(\"Longitude\", \"Latitude\"), crs = 4326)\ndesired_crs &lt;- 4326\n\n# diverging color scheme\ncolor_scale &lt;- scale_fill_gradientn(colours = RColorBrewer::brewer.pal(11, \"RdYlBu\"))\n\nlow_limit &lt;- -40#min(crime_ny_covid_sf$increase)\nhigh_limit &lt;- 100#max(crime_ny_covid_sf$increase)\nmid_point &lt;- 0.0\n\ncolor_sc &lt;- scale_fill_gradient2(low = \"blue\", high = \"red\", mid = \"white\", \n                       midpoint = mid_point, \n                       limits = c(low_limit, high_limit),\n                       breaks = seq(low_limit, high_limit, by = 20))\n\nfirst &lt;- ggplot(crime_ny_covid_sf, aes(fill = increase)) +\n  geom_sf(color = \"black\", size = 0.1) +\n  color_scale +\n  theme_minimal() +\n  labs(#title = \"Percentage Increase in Crime/population from 2020 to 2022\",\n       fill = \"Increase (%)\") + \n  color_sc\n  \nsecond &lt;- ggplot(crime_pct_increase, \n                 aes(x = reorder(County, increase), \n                     y = increase)) +\n  geom_bar(stat = \"identity\", \n           aes(fill = increase),\n           color = 'black', \n           size = 0.1) +\n  color_sc +\n  theme_minimal() +\n  labs(title = \"Percentage Increase in Crime/population from 2020 to 2022\",\n       x = \"County\",\n       y = \"Increase (%)\") +\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1, size = 8))\n\nsecond &lt;- second + theme(legend.position = \"none\")\n\ncombined_plots &lt;-  second/first + plot_layout(heights = c(1,3))\n\ncombined_plots\n\n\n\n\n\nFirstly, it is clear that a majority of counties have seen an upswing in crime rates from 2020 to 2022, which supports the hypothesis that COVID-19’s socioeconomic effects have broadly impacted crime rates across the New York State region.\nSchuyler County stands out with an approximately 90% surge in crime. Looking at the data more closely, we observe that Schuyler traditionally maintained relatively low crime rates, averaging 2-3 incidents per 1,000 population before 2020. This rate nearly doubled by 2022. The jump from 2020 to 2021 is especially significant, indicating a drastic move from its historical crime trends. This increase suggests that even areas with traditionally low crime levels were not immune to the pandemic’s impacts.\n\n\nCode\nSchuyler_dat &lt;- impact_of_covid[impact_of_covid$County == 'Schuyler', ]\nSchuyler_dat &lt;- Schuyler_dat[Schuyler_dat$Year &gt; 2014, ]\n\ncrime_types_long &lt;- Schuyler_dat %&gt;%\n  pivot_longer(cols = c(Murder, Rape, Robbery, Aggravated.Assault, \n                        Burglary, Larceny, Motor.Vehicle.Theft),\n               names_to = \"Crime_Type\", \n               values_to = \"Incidents\")\n\n# sort:\nsums_by_category &lt;- crime_types_long %&gt;%\n  filter(Year == 2022) %&gt;%\n  group_by(Crime_Type) %&gt;%\n  summarize(Total = sum(Incidents)) %&gt;%\n  arrange(-Total)\ncrime_types_long$Crime_Type &lt;- factor(crime_types_long$Crime_Type, \n                                      levels = sums_by_category$Crime_Type)\n\nggplot(crime_types_long, aes(x = Year, \n                             y = Incidents, \n                             fill = Crime_Type)) +\n  geom_area(position = 'stack') +\n  scale_fill_brewer(palette = \"Set1\") +\n  labs(title = \"Crime types in Schuyler over years\",\n       x = \"Year\",\n       y = \"Number of Incidents\",\n       fill = \"Crime Type\") +\n  theme_minimal() +\n  scale_x_continuous(breaks = seq(min(crime_types_long$Year), max(crime_types_long$Year), by = 1))\n\n\n\n\n\nInterestingly, there has been a sharp decline in crime rates prior to 2017 in Schuyler County, and similarly drastic spikes to the one from 2021 to 2022 have occurred before. We believe that this volatility is partly due to Schuyler’s relatively small population; it is the second smallest county (after Hamilton) in NY State by population. Consequently, even small numerical increases in crime can translate into relatively large percentage changes. Specifically, we have seen especially significant upticks in larceny and burglary incidents in Schuyler over the past two years.\nSimilar to Schuyler county, Cattaraugus county is an outlier; namely, it is a relatively rural area having experienced an unexpectedly large percentage increase in crime rates. Its small population size means that, similar to Schuyler, minor changes in crime figures can result in disproportionately high percentage changes. We remark that specifically the Larceny numbers in Cattaraugus increased by a lot, which is again in line with the analysis of Schuyler.\nLet us now delve a little deeper into the regional aspects of the crime percentage change First, we notice that, unsurprisingly, there is a cluster with a steep crime increase in and around NY City (Kings, Queens, Bronx, New York and Richmond). This upswing also extends to some parts of Long Island, notably Nassau County, and to a lesser extent, Suffolk County. The pattern towards the east and Long Island is somewhat matched towards the north of NY City, where especially Putnam County saw a marked increase in crime. Similarly, this trend is matched towards the north of NY City, where Putnam County, in particular, has seen a steep increase in crime.\nMore interestingly, there is another cluster showing a more-than-average rise in total crime around Saratoga, especially in Albany and Warren. Remarkably, neighboring to the east, there is a notable cluster where crime has decreased, including Fulton, Hamilton, Montgomery, and Schoharie counties. The underlying reason for this regional contrast in crime trends are not immediately clear to us, and would require a closer look at local factors to understand the dynamics at play.\n\n\n3.2.2 Examining the Effect of COVID-19 on Crime Categories\nWe now turn our attention to the categories of crime most affected by the effects of the COVID-19 pandemic. Given the clear contrast in crime trends between NYC and non-NYC counties discussed earlier, the following analysis will distinguish between these two groups. We start by examining a stacked area plot illustrating the distribution of the crime types over the past 20 years. We choose this relatively long time-period in order to understand the changes in crime categories prior to the COVID-19 pandemic.\n\n\nCode\n# NYC Data:\nNYC &lt;- crime_ny_with_fips_and_pop[crime_ny_with_fips_and_pop$Region == 'New York City', ]\ncolumns_to_plot &lt;- c(\"Murder\", \"Rape\", \"Robbery\", \"Aggravated.Assault\", \"Burglary\", \"Larceny\", \"Motor.Vehicle.Theft\")\nNYC_long &lt;- tidyr::gather(NYC, key = \"Variable\", value = \"Value\", columns_to_plot)\nNYC_long_summarized &lt;- NYC_long %&gt;%\n  group_by(Year, Variable) %&gt;%\n  summarise(Sum_Value = sum(Value, na.rm = TRUE),\n            Population = sum(Population)) %&gt;%\n  ungroup()\n\n# non-NYC Data:\nnon_NYC &lt;- crime_ny_with_fips_and_pop[crime_ny_with_fips_and_pop$Region != 'New York City', ]\ncolumns_to_plot &lt;- c(\"Murder\", \"Rape\", \"Robbery\", \"Aggravated.Assault\", \"Burglary\", \"Larceny\", \"Motor.Vehicle.Theft\")\nnon_NYC_long &lt;- tidyr::gather(non_NYC, key = \"Variable\", value = \"Value\", columns_to_plot)\nnon_NYC_long_summarized &lt;- non_NYC_long %&gt;%\n  group_by(Year, Variable) %&gt;%\n  summarise(Sum_Value = sum(Value, na.rm = TRUE),\n            Population = sum(Population)) %&gt;%\n  ungroup()\n\n# combine the two\ncombined_NYC &lt;- rbind(\n  mutate(NYC_long_summarized, Location = \"NYC\"),\n  mutate(non_NYC_long_summarized, Location = \"Non-NYC\")\n)\n\n# focus on past 5 years\ncombined_NYC_past5 &lt;- combined_NYC[combined_NYC$Year &gt;= 2000,]\ncombined_NYC_past5$pct &lt;- combined_NYC_past5$Sum_Value/combined_NYC_past5$Population\n\n# make sure we sort:\ncumulative_sums &lt;- combined_NYC_past5 %&gt;%\n  group_by(Year, Variable) %&gt;%\n  summarize(Total = sum(1000 * pct, na.rm = TRUE)) %&gt;%\n  ungroup() %&gt;%\n  arrange(Year, -Total)\n\n# change factor levels according to above sorted criterium\ncombined_NYC_past5$Variable &lt;- factor(combined_NYC_past5$Variable, \n                                      levels = unique(cumulative_sums$Variable))\n\n# plot\nggplot(combined_NYC_past5, aes(x = Year, \n                               y = 1000 * pct, \n                               fill = Variable)) +\n#  geom_bar(stat = \"identity\", \n#           position = \"stack\") +\n  geom_area(position = 'stack') +\n  labs(title = \"Crime Types by Region since 2019\",\n       x = \"Year\",\n       y = \"Crime (per 1000 people)\") +\n  theme_minimal() +\n  facet_wrap(~Location, \n             ncol = 1) +\n  scale_fill_brewer(palette = \"Set1\")\n\n\n\n\n\nAnalyzing the graph, we see distinct trends in crime categories for New York City and the rest of the state. First, in NYC, there has been a considerable reduction in motor vehicle thefts and burglaries. The former is certainly partially related to advancement in security systems for cars. What is also striking is that aggravated assault incidents remained relatively constant throughout the two decades both in NYC and the rest of the state. Actually, NY City has experienced a noticeable rise in such incidents. Finally, in non-NYC counties, Larceny incidents steadily declined up until 2020, while for NYC counties, it remained relatively constant up until 2020.\nWith this in mind, we will now delve deeper into the specific crime types that have witnessed the largest increases in the past couple of years (absolutely and in percentage).\n\n\nCode\ncrime_types &lt;- unique(combined_NYC_past5$Variable)\nfiltered_data &lt;- combined_NYC_past5 %&gt;% \n  filter(Year %in% c(2020, 2022))\n\n# pct change\npercentage_change &lt;- filtered_data %&gt;%\n  group_by(Location, Variable) %&gt;%\n  summarise(PercentageChange = ((pct[Year == 2022] - pct[Year == 2020]) / pct[Year == 2020]) * 100)\npercentage_change &lt;- percentage_change %&gt;%\n  arrange(PercentageChange)\n\n# absolute change\nabsolute_change &lt;- filtered_data %&gt;%\n  group_by(Location, Variable) %&gt;%\n  summarise(AbsoluteChange = (pct[Year == 2022] - pct[Year == 2020]))\nabsolute_change &lt;- absolute_change %&gt;%\n  arrange(absolute_change)\n\n# combine:\nchanges &lt;- bind_rows(\n  percentage_change %&gt;% mutate(ChangeType = \"Percentage Change\", ChangeValue = PercentageChange),\n  absolute_change %&gt;% mutate(ChangeType = \"Absolute Change\", ChangeValue = 1000 * AbsoluteChange)\n)\n\n# pct change on top:\nchanges$ChangeType &lt;- factor(changes$ChangeType, \n                             levels = c(\"Percentage Change\", \"Absolute Change\"))\n\n# plot\nggplot(changes, \n       aes(x = reorder(Variable, -ChangeValue), \n           y = ChangeValue, \n           fill = Location)) +\n  geom_bar(stat = \"identity\", \n           position = \"dodge\", \n           width = 0.7) +\n  facet_wrap(~ChangeType, \n             scales = \"free_y\", \n             ncol = 1) +\n  labs(title = \"Change in Crime Types (2020-2022)\",\n       x = \"Crime Type\",\n       y = \"Change\") +\n  theme_minimal() +\n  scale_fill_manual(values = c(\"NYC\" = \"blue\", \"Non-NYC\" = \"red\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nWe first notice that surprisingly motor vehicle thefts have increased the most percentage-wise. While their actual numbers remain comparatively small, they observed a jump of almost 60% in NYC. Larceny, robbery and aggravated assaults are somewhat expected to have increased significantly due to the socioeconomic effects and overall increases in poverty due to the COVID-19 pandemic. The changes – as noted in the previous section – are especially significant in NYC. Furthermore, the increase of about 20% in the amount of rape incidents in NYC is also quite surprising. We shall discuss the evolution of the rape incidents a bit more further below, as it shows some unexpected patterns. Finally, we notice that the number of murders in all of NY State has decreased.\nIt is important to keep in mind that the baseline from which these percentages were calculated are important; a small increase from a low starting point can lead to a high percentage change.\nThis concludes our discussion of the interesting uptick observed in the first section in crime rates after 2020. We mainly refrained from making conclusions on causation of various features. The effects of the pandemic on the population, ranging from economic to mental and social repercussions is inherently complicated. From our treatment, it is clear that a “shift” happened in 2020 which significantly affected the crime rates. It especially seemed to have affected rural areas (especially NYC) and apart from the murder rates (and burglaries outsides of NYC) all crime categories seemed to have been affected."
  },
  {
    "objectID": "results.html#biplot",
    "href": "results.html#biplot",
    "title": "3  Results",
    "section": "3.3 Exploring Relationships Between Crime Categories and Counties",
    "text": "3.3 Exploring Relationships Between Crime Categories and Counties\nWe now turn towards examining the relationships among different types of crimes and discerning if there are any geographic or socioeconomic patterns among counties. We use the tool of biplots, which involves reducing the data from the seven crime categories — murder, rape, robbery, aggravated assault, burglary, larceny, and motor vehicle theft — down to two dimensions using Principal Component Analysis. By doing so, we can map the counties onto a two-dimensional plane, where the proximity and positioning may reveal interesting underlying associations between the crime types and the counties’ characteristics.\nWe start by drawing a biplot for the full three decades of data that our dataset contains.\n\n\nCode\ncrime_ny_filtered_county_tot &lt;- crime_ny_with_fips_and_pop\ncrime_ny_filtered_county_tot &lt;- crime_ny_filtered_county_tot %&gt;% \n  select(c('County', 'Year', 'Murder', 'Rape', 'Robbery', \n           'Aggravated.Assault', 'Burglary', 'Larceny', \n           'Motor.Vehicle.Theft', 'Population'))\n\ncrime_ny_filtered_county_tot[ , 3:9] &lt;- 1000*crime_ny_filtered_county_tot[, 3:9]/crime_ny_filtered_county_tot$Population\n\ncrime_ny_filtered_county_tot_since_1990 &lt;- crime_ny_filtered_county_tot %&gt;%\n  filter(Year &lt; 2030) %&gt;%\n  group_by(County) %&gt;%\n  summarise(across(everything(), sum))\n\ndraw_biplot(crime_ny_filtered_county_tot_since_1990[,c(1,3:9)], \n            project = F,\n            point_labels = T, \n            point_size = .4) +\n  labs(title = 'Biplot of crime rate (per 1000 population) from 1990 to 2022') +\n  theme_minimal()\n\n\n\n\n\nThis graph reveals that the crime types of aggravated assault, murder, robbery and motor vehicle theft seem to be correlated, i.e. if one occurs especially comparatively often in a county so does the other. Similarly, burglary and larceny seem to be strongly related. Finally, rape is somewhat on its own and interestingly quite orthogonal to aggravated assaults and murders. Of course, we only capture around 80% of the variation in this plot, so this only paints a broad picture.\nWith respect to regions, it looks like four of the five NYC Boroughs (NY, Bronx, Kings and Queens) show similar crime patterns, which are especially distinct from the remaining counties. They seem especially aligned with high numbers in the aggravated assaults, murders, robberies and motor vehicle thefts. Notice that due to the large number of these crimes in the 90s in and around NYC, most of the other counties are clustered towards their negative directions (due to standardization), and therefore, the more interesting direction is actually along the burglary, larceny and rape axes.\nInterestingly, the surrounding areas of NYC including Richmond, Nassau, Westchester and Suffolk also seem to form a regional cluster characterized by comparatively low numbers in burglary, larceny and rapes. Recall that we have seen these counties behave similar to each other in the COVID-19 analysis.\nLet us now redo the analysis for the more recent years, to see whether some of the patterns change.\n\n\nCode\ncrime_ny_filtered_county_tot_since_2010 &lt;- crime_ny_filtered_county_tot %&gt;%\n  filter(Year &gt;= 2010) %&gt;%\n  group_by(County) %&gt;%\n  summarise(across(everything(), sum))\n\ndraw_biplot(crime_ny_filtered_county_tot_since_2010[,c(1,3:9)], \n            project = F,\n            point_labels = T, \n            point_size = .4) +\n  labs(title = 'Biplot of crime rate (per 1000 population) from 2010 to 2022') +\n  theme_minimal()\n\n\n\n\n\nThe crime-type “clusters” remain relatively constant, though they are slightly more “spread out.” Furthermore, the NYC counties (except Richmond) are strongly aligned along the robbery-cluster axis. Also the Richmond, Nassau, Westchester and Suffolk cluster remains relatively intact. The very eastern counties towards the Canadian border (Niagara, Erie, Monroe) seem to have particularly high numbers in vehicle thefts. It is quite surprising that the broad strokes of this picture remains relatively constant across time - a more in-depth analysis showed that that is the case for various other time periods - which means that one could attempt to interpret clusters and groupings using a demographic analysis by county.\nLet us finally focus on the NYC Counties and their biplot for the most recent couple of years.\n\n\nCode\ncrime_ny_filtered_county_tot_since_2020_NY &lt;- crime_ny_filtered_county_tot %&gt;%\n  filter(Year &gt;= 2020 & County %in% c('Richmond','New York','Kings', 'Queens','Bronx')) %&gt;%\n  group_by(County) %&gt;%\n  summarise(across(everything(), sum))\n\ndraw_biplot(crime_ny_filtered_county_tot_since_2020_NY[,c(1,3:9)], \n            project = T,\n            point_labels = T, \n            point_size = 1,\n            'Robbery') +\n  labs(title = 'Biplot of crime rate (per 1000 population) from 2020 to 2022 in NYC') +\n  theme_minimal()\n\n\n\n\n\nIt seems like among the five Boroughs, robbery is the most discerning crime type. We furthermore notice that rape is aligned with aggravated assault and murder, which makes sense to us. Manhattan seems to be comparatively strongly associated with “property crimes” (larceny and burglary), while Bronx county is strongly associated with the “violent crimes” (rape, aggravated assault and murder).\nWe conclude this section by remarking that this type of plot paints a really interesting picture. A more in-depth analysis of the socioeconomic and demographics of the counties would be very interesting and potentially insightful."
  },
  {
    "objectID": "results.html#crime-patterns",
    "href": "results.html#crime-patterns",
    "title": "3  Results",
    "section": "3.4 Analysis of Crime Trends",
    "text": "3.4 Analysis of Crime Trends\nWe briefly touched upon the general shift in crime types within New York City and across the state, particularly in relation to the COVID-19 pandemic, as detailed here. This provided a broad overview of trends in the past two decades. We now investigate further the evolution of individual crime categories over time.\n\n\nCode\nnon_NYC &lt;- crime_ny_with_fips_and_pop[crime_ny_with_fips_and_pop$Region != 'New York City', ]\ncolumns_to_plot &lt;- c(\"Murder\", \"Rape\", \"Robbery\", \"Aggravated.Assault\", \n                     \"Burglary\", \"Larceny\", \"Motor.Vehicle.Theft\")\nnon_NYC_long &lt;- tidyr::gather(non_NYC, key = \"Variable\", value = \"Value\", columns_to_plot)\n\nnon_NYC_long_summarized &lt;- non_NYC_long %&gt;%\n  group_by(Year, Variable) %&gt;%\n  summarise(Sum_Value = sum(Value, na.rm = TRUE),\n            Population = sum(Population)) %&gt;%\n  ungroup()\n\nNYC &lt;- crime_ny_with_fips_and_pop[crime_ny_with_fips_and_pop$Region == 'New York City', ]\nNYC_long &lt;- tidyr::gather(NYC, key = \"Variable\", value = \"Value\", columns_to_plot)\n\nNYC_long_summarized &lt;- NYC_long %&gt;%\n  group_by(Year, Variable) %&gt;%\n  summarise(Sum_Value = sum(Value, na.rm = TRUE),\n            Population = sum(Population)) %&gt;%\n  ungroup()\n\ncombined_NYC &lt;- rbind(\n  mutate(NYC_long_summarized, Location = \"NYC\"),\n  mutate(non_NYC_long_summarized, Location = \"Non-NYC\")\n)\n\n# order: \nreasonable_order &lt;- c(\"Robbery\", \"Aggravated.Assault\", \"Rape\", \"Murder\", \n                   \"Larceny\", \"Motor.Vehicle.Theft\", \"Burglary\")\ncombined_NYC$Variable &lt;- factor(combined_NYC$Variable, levels = reasonable_order)\n\nggplot(combined_NYC, \n       aes(x = Year, \n           y = 1000*Sum_Value/Population, \n           color = Location, \n           group = Location)) +\n  geom_line() +\n  geom_point(size = 0.3) + \n  labs(title = \"NYC vs Non-NYC\",\n       x = \"Year\",\n       y = \"Incidents per (1000 population)\",\n       color = \"Area\") +\n  scale_color_manual(values = c(\"NYC\" = \"blue\", \"Non-NYC\" = \"red\")) +\n  theme_minimal() +\n  facet_wrap(~Variable, \n             scales = \"free_y\",\n             nrow = 2) +\n  scale_y_continuous(limits = c(0, NA))\n\n\n\n\n\nIn the first row of the graph, we show the crime type categorized as “violent crimes”, while in the second row, we show the ones categorized as “property crimes”. We have learned that there is quite a difference between NYC and non-NYC counties, and therefore look at the data separated among those two categories.\nWe shall discuss the apparent jump in rape incidents in the following. Other than that, and apart from the COVID-bump after 2020, we observe that the incidents for each crime type has steadily decreased over the past 30 years. Especially motor vehicle thefts have gone through a steep decline in the 90s. Again, we believe that this is partially due to the advancement of security systems of cars.\nWhile most categories seem to decrease through the 2000s, aggravated assault numbers remains relatively constant and eventually even increased in the late 2010s and early 2020s in NYC. We did not find an underlying reason for this increase; it could be due to various factors such as reporting inconsistencies, legislative policies, or socioeconomic factors. We will delve a bit deeper into that period when we try to analyse the efficacy of “stop-and-frisk”.\n\n3.4.1 The curious case of Rape Incidents\nThe main thing that jumps out in the above graph is the (relatively) massive jump in rape incident numbers from 2014 to 2015 in all of NY State. The reason for this jump is actually due to an “expanded definition” of the crime. In short, the FBI implemented a change in definition to “more accurately reflect the scope and volume of sexual assaults nationwide.” Therefore, we should refrain from inferring and comparing rape incident numbers across 2014.\n\n\n3.4.2 Examining the Influence of “Operation Impact” and Stop-and-Frisk Policies\nWe now address another interesting question: Does our dataset offer any insights into the impact of “stop-and-frisk”, or more specifically, the “Operation Impact” initiative during Mayor Bloomberg’s administration on crime rates in NYC? Many other studies have investigated stop-and-frisk effects using more directly related data, but our focus here is to analyze any potential correlation from the perspective of our dataset. We aim to investigate the hypothesis that “Operation Impact” and stop-and-frisk should decrease the overall crimes committed. In particular, our goal is to discern whether crime statistics in NYC, where stop-and-frisk was heavily enforced, show a more pronounced decline compared to other NY State counties.\nThe “stop-and-frisk” policy allows police officers to stop, question, and search individuals they suspect of criminal activity. The practice is often associated with Bloomberg’s time as Mayor of NYC (2002-2013). It was especially prevalent around 2011 where over 685,000 stops were recorded. The practice came under scrutiny and was declared unconstitutional and racially biased in the court case of Floyd v. City of New York in 2013. Following Mayor Bill de Blasio’s election in 2014, the frequency of stop-and-frisk plummeted.\nWhile there are many in-depth analyse discerning the efficacy of stop-and-frisk, we believe that our dataset provides an interesting, alternative perspective allowing us to apply various techniques to assess its impact.\nIn our analysis, we will compare crime rates in NYC during the stop-and-frisk era against those in other NY counties. We specifically examine the periods before 2002, between 2002-2013, and after 2014, and hypothesize that any significant policy effects would be most explicit from around 2006 to 2012. It is important to note, however, that our dataset may not cleanly distinguish the effects of stop-and-frisk from other strategies, such as heightened police presence in high-crime areas (“Operation Impact”), and we might observe impacts more attributable to the latter than to stop-and-frisk itself, as suggested by this report.\nWe start by employing a time-series technique in which we adjust and normalize the time series data such that the starting value is fixed to 100. This should allow us to more carefully analyse the changes in crime data between NYC and non-NYC counties. We are mostly interested in the middle (“stop-and-frisk”) period and how it compares to the pre- and the post stop-and-frisk eras as well as how the NYC data compares to the non-NYC data.\n\n\nCode\n# pre stop-and-frisk\ncombined_NYC_bloomb &lt;- combined_NYC %&gt;%\n  filter(Year &gt; 1980 & Year &lt;2002) %&gt;%\n  group_by(Variable, Location)\n\ncombined_NYC_bloomb1 &lt;- combined_NYC_bloomb %&gt;%\n  group_by(Year, Location) %&gt;%\n  summarise(Sum_Value = sum(Sum_Value, na.rm = TRUE),\n            Population = sum(Population)) %&gt;%\n  ungroup()\ncombined_NYC_bloomb1 &lt;- combined_NYC_bloomb1 %&gt;%\n  group_by(Location) %&gt;% \n  mutate(adjusted_value = 100*Sum_Value/Population/first(Sum_Value/Population))\n\n# during stop-and-frisk\ncombined_NYC_bloomb &lt;- combined_NYC %&gt;%\n  filter(Year &gt;= 2002 & Year &lt;=2013) %&gt;%\n  group_by(Variable, Location)\ncombined_NYC_bloomb2 &lt;- combined_NYC_bloomb %&gt;%\n  group_by(Year, Location) %&gt;%\n  summarise(Sum_Value = sum(Sum_Value, na.rm = TRUE),\n            Population = sum(Population)) %&gt;%\n  ungroup()\ncombined_NYC_bloomb2 &lt;- combined_NYC_bloomb2 %&gt;%\n  group_by(Location) %&gt;% \n  mutate(adjusted_value = 100*Sum_Value/Population/first(Sum_Value/Population))\n\n# after stop-and-frisk\ncombined_NYC_bloomb &lt;- combined_NYC %&gt;%\n  filter(Year &gt; 2013 & Year &lt;=2042) %&gt;%\n  group_by(Variable, Location)\ncombined_NYC_bloomb3 &lt;- combined_NYC_bloomb %&gt;%\n  group_by(Year, Location) %&gt;%\n  summarise(Sum_Value = sum(Sum_Value, na.rm = TRUE),\n            Population = sum(Population)) %&gt;%\n  ungroup()\ncombined_NYC_bloomb3 &lt;- combined_NYC_bloomb3 %&gt;%\n  group_by(Location) %&gt;% \n  mutate(adjusted_value = 100*Sum_Value/Population/first(Sum_Value/Population))\n\n# add period\ncombined_NYC_bloomb1 &lt;- combined_NYC_bloomb1 %&gt;%\n  mutate(Period = \"Pre Stop-and-Frisk\")\ncombined_NYC_bloomb2 &lt;- combined_NYC_bloomb2 %&gt;%\n  mutate(Period = \"During Stop-and-Frisk\")\ncombined_NYC_bloomb3 &lt;- combined_NYC_bloomb3 %&gt;%\n  mutate(Period = \"Post Stop-and-Frisk\")\n\n# combine\ncombined_periods &lt;- bind_rows(combined_NYC_bloomb1, \n                              combined_NYC_bloomb2, \n                              combined_NYC_bloomb3)\n\n# order:\ncombined_periods$Period &lt;- factor(combined_periods$Period, \n                                  levels = c(\"Pre Stop-and-Frisk\", \"During Stop-and-Frisk\", \"Post Stop-and-Frisk\"))\n\n# plot\nggplot(combined_periods, aes(x = Year, y = adjusted_value, color = Location, group = Location)) +\n  geom_line() +\n  geom_point(size = 0.4) + \n  labs(title = \"NYC vs non-NYC crime rates over different periods\",\n       x = \"Year\",\n       y = \"Adjusted Crime Rate (per 1000 population, first year = 100)\") +\n  scale_color_manual(values = c(\"NYC\" = \"blue\", \"Non-NYC\" = \"red\")) +\n  theme_minimal() +\n  facet_wrap(~Period, \n             scales = \"free_x\", \n             ncol = 3) +\n  scale_x_continuous(breaks = function(x) seq(floor(min(x)), ceiling(max(x)), by = 1)) +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1))+\n  scale_y_continuous(limits = c(0, NA))\n\n\n\n\n\nIn the graph, we naively observe that the NYC crime numbers decrease more rapidly during the “stop-and-frisk” period compared to the non-NYC counties. However, we also note that they did so in the pre-stop-and-frisk era as well. What is interesting is that once de Blasio took office, the crime rate in non-NYC counties decreases faster than in NYC. We further observe that this trend is already changing around 2009, where the decrease in NYC somewhat halts. This plateau might suggest that the initial steep decrease in crime rates was not sustained at the same rate during the height of stop-and-frisk. Meanwhile, non-NYC counties continue to experience a gradual decrease, although they show slight fluctuations in the trend.\nThese trends suggest that while there was a general decline in crime during the stop-and-frisk years, it is not possible to attribute this entirely to the policy without further, more detailed analysis. The fact that crime rates also decreased in non-NYC areas, where stop-and-frisk was not implemented, indicates that other factors may have influenced the downward trend.\nAdditionally, the post stop-and-frisk period uptick raises questions about the long-term efficacy of the policy. If stop-and-frisk had been an actual efficient crime deterrent, one would naively expect crime rates to remain low or at least not to increase immediately once the policy was no longer in use.\nWe shall now look at the evolution of the crime types during the stop-and-frisk period, to see whether we can spot any interesting patterns.\n\n\nCode\n# during stop-and-frisk\ncombined_NYC_bloomb &lt;- combined_NYC %&gt;%\n  filter(Year &gt;= 2002 & Year &lt;=2013) %&gt;%\n  group_by(Variable, Location)\ncombined_NYC_bloomb2 &lt;- combined_NYC_bloomb %&gt;%\n  group_by(Year, Location, Variable) %&gt;%\n  summarise(Sum_Value = sum(Sum_Value, na.rm = TRUE),\n            Population = sum(Population)) %&gt;%\n  ungroup()\ncombined_NYC_bloomb2 &lt;- combined_NYC_bloomb2 %&gt;%\n  group_by(Location, Variable) %&gt;% \n  mutate(adjusted_value = 100*Sum_Value/Population/first(Sum_Value/Population))\n\nreasonable_order &lt;- c(\"Robbery\", \"Aggravated.Assault\", \"Rape\", \"Murder\", \n                   \"Larceny\", \"Motor.Vehicle.Theft\", \"Burglary\")\ncombined_NYC_bloomb2$Variable &lt;- factor(combined_NYC_bloomb2$Variable, \n                                        levels = reasonable_order)\n\nggplot(combined_NYC_bloomb2, \n       aes(x = Year, \n           y = adjusted_value, \n           color = Location, \n           group = Location)) +\n  geom_line() +\n  labs(title = \"Crime evolution by type during stop-and-frisk period\",\n       x = \"Year\",\n       y = \"Adjusted Crime Rate (per 1000 population, first year = 100)\") +\n  scale_color_manual(values = c(\"NYC\" = \"blue\", \n                                \"Non-NYC\" = \"red\")) +\n  theme_minimal() +\n  facet_wrap(~Variable, \n             nrow = 2) +\n  scale_x_continuous(breaks = function(x) seq(floor(min(x)), ceiling(max(x)), by = 1)) +\n  theme(axis.text.x = element_text(angle = 90, \n                                   hjust = 1, \n                                   size = 7)) + \n  scale_y_continuous(limits = c(0, 120))\n\n\n\n\n\nLooking at the robbery, aggravated assault, rape, and murder trends, there is a clear decline in both NYC and non-NYC areas over the years. However, the rates of decline are not larger in NYC compared to non-NYC areas, which one might naively expect if stop-and-frisk was highly effective. For instance, the decline in robbery rates is quite similar in both regions, and aggravated assault rates actually show a slight increase in later years for NYC.\nWe observe that the decline in the number of burglaries in NYC is the steepest compared with the non-NYC counterpart. Burglaries is a type of crime that we do not believe should be related to any potential “stop-and-frisk” policies. On the other hand, changes in aggravated assault numbers remained comparatively equal between NYC and non-NYC counties, which is something that additional police presence could certainly influence.\nFinally, we remark that in the report by members of the University of Pennsylvania, they found that while extra police deployment to high crime areas in NYC (Operation Impact) contributed to a major decline in crime (12% to 15% reduction), the additional use of stop-and-frisk made almost no difference. So the decreasing crime effects should probably not be attributed to stop-and-frisk but rather to the overall efforts of the NYPD in high crime areas."
  }
]